<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>PDF Parser Engine — Dashboard</title>
    <meta
      name="description"
      content="Scalable PDF ingestion and parsing dashboard for certification exam questions"
    />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=JetBrains+Mono:wght@400;500;600&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="/static/styles.css?v={{ cache_bust }}" />
  </head>

  <body>
    <!-- ═══ Top Bar ═══════════════════════════════════════════════ -->
    <header class="topbar" id="topbar">
      <div class="topbar__left">
        <div class="topbar__logo">
          <svg
            width="22"
            height="22"
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="2.2"
          >
            <path
              d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"
            />
            <polyline points="14 2 14 8 20 8" />
            <line x1="16" y1="13" x2="8" y2="13" />
            <line x1="16" y1="17" x2="8" y2="17" />
          </svg>
        </div>
        <h1 class="topbar__title">PDF Parser Engine</h1>
        <span class="topbar__badge">v1.0.0</span>
      </div>
      <div class="topbar__right">
        <div class="topbar__server" id="server-indicator">
          <span class="server-dot" id="server-dot"></span>
          <span id="server-text">Connecting...</span>
        </div>
      </div>
    </header>

    <!-- ═══ App Shell ════════════════════════════════════════════ -->
    <div class="shell">
      <!-- ─── Left Nav ──────────────────────────────────────── -->
      <nav class="leftnav" id="leftnav">
        <button
          class="leftnav__btn leftnav__btn--active"
          data-page="imports"
          id="nav-imports"
        >
          <svg
            width="18"
            height="18"
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="2"
          >
            <path
              d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"
            />
            <polyline points="13 2 13 9 20 9" />
          </svg>
          <span>PDF Imports</span>
        </button>
        <button
          class="leftnav__btn"
          data-page="review"
          id="nav-review"
          style="display: none"
        >
          <svg
            width="18"
            height="18"
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="2"
          >
            <path
              d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"
            />
            <path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z" />
          </svg>
          <span>Review</span>
        </button>
      </nav>

      <!-- ─── Main Content ──────────────────────────────────── -->
      <main class="main" id="main">
        <!-- ═══ PAGE: PDF Imports ═════════════════════════════ -->
        <section class="page page--active" id="page-imports">
          <div class="page__toprow">
            <div>
              <h2 class="page__title">PDF Imports</h2>
              <p class="page__subtitle">
                Manage uploaded PDFs and their parsing status
              </p>
            </div>
            <button class="btn btn--accent" id="btn-upload-pdf">
              <svg
                width="16"
                height="16"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2.5"
              >
                <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4" />
                <polyline points="17 8 12 3 7 8" />
                <line x1="12" y1="3" x2="12" y2="15" />
              </svg>
              Upload PDF
            </button>
          </div>

          <!-- Status cards -->
          <div class="status-row" id="status-row">
            <div class="status-card">
              <div class="status-card__icon status-card__icon--pending">
                <svg
                  width="20"
                  height="20"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="2"
                >
                  <rect x="2" y="7" width="20" height="14" rx="2" />
                  <path d="M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16" />
                </svg>
              </div>
              <div class="status-card__info">
                <span class="status-card__label">PENDING QUEUE</span>
                <span class="status-card__value" id="stat-pending"
                  >0 Files</span
                >
              </div>
            </div>
            <div class="status-card">
              <div class="status-card__icon status-card__icon--active">
                <svg
                  width="20"
                  height="20"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="2"
                >
                  <circle cx="12" cy="12" r="10" />
                  <polyline points="12 6 12 12 16 14" />
                </svg>
              </div>
              <div class="status-card__info">
                <span class="status-card__label">CURRENTLY IN WORK</span>
                <span class="status-card__value" id="stat-active"
                  >0 Active</span
                >
              </div>
            </div>
            <div class="status-card">
              <div class="status-card__icon status-card__icon--done">
                <svg
                  width="20"
                  height="20"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="2"
                >
                  <polyline points="20 6 9 17 4 12" />
                </svg>
              </div>
              <div class="status-card__info">
                <span class="status-card__label">SUCCESSFULLY PARSED</span>
                <span class="status-card__value" id="stat-done">0 Total</span>
              </div>
            </div>
          </div>

          <!-- Imports Table -->
          <div class="table-wrap" id="imports-table-wrap">
            <table class="dtable" id="imports-table">
              <thead>
                <tr>
                  <th>ID</th>
                  <th>File</th>
                  <th>Size</th>
                  <th>Pages</th>
                  <th>Status</th>
                  <th>Confidence</th>
                  <th>Questions</th>
                  <th>Uploaded</th>
                  <th>Actions</th>
                </tr>
              </thead>
              <tbody id="imports-tbody">
                <tr class="dtable__empty">
                  <td colspan="9">
                    <div class="empty-msg">
                      <svg
                        width="36"
                        height="36"
                        viewBox="0 0 24 24"
                        fill="none"
                        stroke="currentColor"
                        stroke-width="1.5"
                        opacity=".35"
                      >
                        <path
                          d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"
                        />
                        <polyline points="13 2 13 9 20 9" />
                      </svg>
                      <p>No PDFs uploaded yet</p>
                      <span>Upload a PDF to start parsing</span>
                    </div>
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
        </section>

        <!-- ═══ PAGE: Review ═════════════════════════════════ -->
        <section class="page" id="page-review">
          <!-- Review header -->
          <div class="page__toprow">
            <div>
              <h2 class="page__title review-title" id="review-title">
                Review: <span id="review-filename"></span>
              </h2>
              <p class="page__subtitle" id="review-meta"></p>
            </div>
            <div class="page__toprow-actions">
              <button class="btn btn--green btn--sm" id="btn-jump-incomplete">
                <svg
                  width="14"
                  height="14"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="2.5"
                >
                  <polyline points="13 17 18 12 13 7" />
                  <polyline points="6 17 11 12 6 7" />
                </svg>
                Jump to Incomplete
              </button>
              <button class="btn btn--ghost btn--sm" id="btn-parse-logs">
                <svg
                  width="14"
                  height="14"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="2"
                >
                  <path
                    d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"
                  />
                  <polyline points="14 2 14 8 20 8" />
                  <line x1="16" y1="13" x2="8" y2="13" />
                </svg>
                Parse Logs
              </button>
              <button class="btn btn--ghost btn--sm" id="btn-back-imports">
                ← Back
              </button>
            </div>
          </div>

          <!-- Review Stats -->
          <div class="review-stats" id="review-stats">
            <div class="rstat rstat--blue">
              <span class="rstat__value" id="rs-detected">0</span>
              <span class="rstat__label">TOTAL DETECTED</span>
              <span class="rstat__desc">Questions found in raw text scan</span>
            </div>
            <div class="rstat rstat--green">
              <span class="rstat__value" id="rs-parsed">0</span>
              <span class="rstat__label">SUCCESSFULLY PARSED</span>
              <span class="rstat__desc">Fully structured question blocks</span>
            </div>
            <div class="rstat rstat--red">
              <span class="rstat__value" id="rs-missing">0</span>
              <span class="rstat__label" id="rs-missing-label">MISSING / LOST</span>
              <span class="rstat__desc" id="rs-missing-desc">Detection but failed to structure</span>
            </div>
            <div class="rstat rstat--cyan">
              <span class="rstat__value" id="rs-integrity">0%</span>
              <span class="rstat__label">INTEGRITY SCORE</span>
              <span class="rstat__desc">Weighted parsing quality metric</span>
            </div>
          </div>

          <!-- Alert banner -->
          <div class="alert-banner alert-banner--hidden" id="review-alert">
            <span id="review-alert-text"></span>
            <button
              class="btn btn--ghost btn--xs alert-banner__btn"
              id="btn-show-missing"
              style="display: none; margin-left: auto"
            >
              View Details
            </button>
          </div>

          <!-- ═══ Missing Questions Panel (collapsible) ═══ -->
          <div class="missing-panel" id="missing-panel" style="display: none">
            <div class="missing-panel__header">
              <div class="missing-panel__title-row">
                <svg
                  width="18"
                  height="18"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="2"
                >
                  <circle cx="12" cy="12" r="10" />
                  <line x1="12" y1="8" x2="12" y2="12" />
                  <line x1="12" y1="16" x2="12.01" y2="16" />
                </svg>
                <h3>Missing &amp; Incomplete Questions</h3>
                <span class="missing-panel__count" id="missing-panel-count"
                  >0</span
                >
              </div>
              <button class="btn btn--ghost btn--xs" id="btn-close-missing">
                &times;
              </button>
            </div>

            <!-- Summary stats row -->
            <div class="missing-stats" id="missing-stats">
              <div class="mstat">
                <span class="mstat__value" id="ms-raw-detected">0</span>
                <span class="mstat__label">Raw Detected</span>
              </div>
              <div class="mstat">
                <span
                  class="mstat__value mstat__value--green"
                  id="ms-fully-parsed"
                  >0</span
                >
                <span class="mstat__label">Fully Parsed</span>
              </div>
              <div class="mstat">
                <span class="mstat__value mstat__value--amber" id="ms-partial"
                  >0</span
                >
                <span class="mstat__label">Partial</span>
              </div>
              <div class="mstat">
                <span class="mstat__value mstat__value--red" id="ms-missing"
                  >0</span
                >
                <span class="mstat__label">Missing</span>
              </div>
              <div class="mstat">
                <span class="mstat__value" id="ms-gaps">0</span>
                <span class="mstat__label">Seq. Gaps</span>
              </div>
              <div class="mstat">
                <span class="mstat__value" id="ms-duplicates">0</span>
                <span class="mstat__label">Duplicates</span>
              </div>
            </div>

            <!-- Tab switcher -->
            <div class="missing-tabs">
              <button
                class="missing-tab missing-tab--active"
                data-tab="missing"
                id="tab-missing"
              >
                Missing
                <span class="missing-tab__badge" id="tab-missing-count">0</span>
              </button>
              <button class="missing-tab" data-tab="partial" id="tab-partial">
                Incomplete
                <span class="missing-tab__badge" id="tab-partial-count">0</span>
              </button>
              <button
                class="missing-tab"
                data-tab="no-answer"
                id="tab-no-answer"
              >
                No Answer
                <span class="missing-tab__badge" id="tab-no-answer-count"
                  >0</span
                >
              </button>
              <button class="missing-tab" data-tab="gaps" id="tab-gaps">
                Seq. Gaps
                <span class="missing-tab__badge" id="tab-gaps-count">0</span>
              </button>
            </div>

            <!-- Tab content: Missing Questions -->
            <div
              class="missing-tab-content missing-tab-content--active"
              id="content-missing"
            >
              <div class="missing-table-wrap">
                <table class="missing-table">
                  <thead>
                    <tr>
                      <th>Q#</th>
                      <th>Page</th>
                      <th>Reason Not Detected</th>
                    </tr>
                  </thead>
                  <tbody id="missing-tbody"></tbody>
                </table>
              </div>
              <div
                class="missing-empty"
                id="missing-empty"
                style="display: none"
              >
                <svg
                  width="28"
                  height="28"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="1.5"
                  opacity=".4"
                >
                  <polyline points="20 6 9 17 4 12" />
                </svg>
                <span>No missing questions detected</span>
              </div>
            </div>

            <!-- Tab content: Partial / Incomplete -->
            <div class="missing-tab-content" id="content-partial">
              <div class="missing-table-wrap">
                <table class="missing-table">
                  <thead>
                    <tr>
                      <th>Q#</th>
                      <th>Page</th>
                      <th>Has Text</th>
                      <th>Has Answer</th>
                      <th>Has Expl.</th>
                      <th>Issues</th>
                    </tr>
                  </thead>
                  <tbody id="partial-tbody"></tbody>
                </table>
              </div>
              <div
                class="missing-empty"
                id="partial-empty"
                style="display: none"
              >
                <svg
                  width="28"
                  height="28"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="1.5"
                  opacity=".4"
                >
                  <polyline points="20 6 9 17 4 12" />
                </svg>
                <span>All parsed questions are fully structured</span>
              </div>
            </div>

            <!-- Tab content: No Answer -->
            <div class="missing-tab-content" id="content-no-answer">
              <div class="missing-table-wrap">
                <div class="missing-numgrid" id="no-answer-grid"></div>
              </div>
              <div
                class="missing-empty"
                id="no-answer-empty"
                style="display: none"
              >
                <svg
                  width="28"
                  height="28"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="1.5"
                  opacity=".4"
                >
                  <polyline points="20 6 9 17 4 12" />
                </svg>
                <span>All questions have answers</span>
              </div>
            </div>

            <!-- Tab content: Sequence Gaps -->
            <div class="missing-tab-content" id="content-gaps">
              <div class="missing-table-wrap">
                <div class="missing-numgrid" id="gaps-grid"></div>
              </div>
              <div class="missing-empty" id="gaps-empty" style="display: none">
                <svg
                  width="28"
                  height="28"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="1.5"
                  opacity=".4"
                >
                  <polyline points="20 6 9 17 4 12" />
                </svg>
                <span
                  >No sequence gaps — all question numbers are continuous</span
                >
              </div>
            </div>
          </div>

          <!-- Filters -->
          <div class="review-filters" id="review-filters">
            <div class="filter-group">
              <label>STATUS:</label>
              <select id="filter-status">
                <option value="all">All Statuses</option>
                <option value="clean">Clean</option>
                <option value="anomaly">Has Anomaly</option>
                <option value="missing-answer">Missing Answer</option>
                <option value="missing-explanation">Missing Explanation</option>
              </select>
            </div>
            <div class="filter-group">
              <label>TYPE:</label>
              <select id="filter-type">
                <option value="all">All Types</option>
                <option value="with-images">With Images</option>
                <option value="text-only">Text Only</option>
                <option value="multi-page">Multi-Page</option>
              </select>
            </div>
            <div class="filter-group filter-group--search">
              <svg
                width="14"
                height="14"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
                opacity=".5"
              >
                <circle cx="11" cy="11" r="8" />
                <line x1="21" y1="21" x2="16.65" y2="16.65" />
              </svg>
              <input
                type="text"
                id="filter-search"
                placeholder="Search by text..."
              />
            </div>
          </div>

          <!-- Split panel: question list + detail -->
          <div class="review-split" id="review-split">
            <!-- Left: Question List -->
            <div class="qlist-panel">
              <div class="qlist-header">
                <span class="qlist-title" id="qlist-count">QUESTIONS (0)</span>
                <label class="qlist-selectall"
                  ><input type="checkbox" id="select-all-q" /> SELECT ALL</label
                >
              </div>
              <div class="qlist-body" id="qlist-body">
                <!-- Question items populated by JS -->
              </div>
            </div>

            <!-- Right: Question Detail / Editor -->
            <div class="qdetail-panel" id="qdetail-panel">
              <div class="qdetail-empty" id="qdetail-empty">
                <svg
                  width="40"
                  height="40"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="1.5"
                  opacity=".3"
                >
                  <circle cx="12" cy="12" r="10" />
                  <path d="M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3" />
                  <line x1="12" y1="17" x2="12.01" y2="17" />
                </svg>
                <p>Select a question to review</p>
              </div>
              <div class="qdetail-content" id="qdetail-content">
                <!-- Header row -->
                <div class="qdetail-toprow">
                  <div class="qdetail-toprow__left">
                    <span class="qdetail-qnum" id="qd-qnum"></span>
                    <div>
                      <span class="qdetail-heading"
                        >Reviewing Question Content</span
                      >
                      <span class="qdetail-line" id="qd-line"
                        >PAGE 0 IN PDF •
                        <span class="qdetail-mode">REVEAL_ONLY MODE</span></span
                      >
                    </div>
                  </div>
                  <div class="qdetail-toprow__actions">
                    <div class="toggle-group">
                      <button
                        class="toggle-btn toggle-btn--active"
                        id="btn-edit-mode"
                      >
                        EDIT
                      </button>
                      <button class="toggle-btn" id="btn-preview-mode">
                        PREVIEW
                      </button>
                    </div>
                    <button class="btn btn--accent btn--sm" id="btn-save-q">
                      <svg
                        width="14"
                        height="14"
                        viewBox="0 0 24 24"
                        fill="none"
                        stroke="currentColor"
                        stroke-width="2.5"
                      >
                        <path
                          d="M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"
                        />
                        <polyline points="17 21 17 13 7 13 7 21" />
                      </svg>
                      SAVE CHANGES
                    </button>
                    <button class="btn btn--green btn--sm" id="btn-approve-q">
                      ✓ APPROVE
                    </button>
                    <button class="btn btn--red btn--sm" id="btn-reject-q">
                      ✗ REJECT
                    </button>
                    <button
                      class="btn btn--ghost btn--sm btn--icon"
                      id="btn-delete-q"
                      title="Delete question"
                    >
                      <svg
                        width="14"
                        height="14"
                        viewBox="0 0 24 24"
                        fill="none"
                        stroke="currentColor"
                        stroke-width="2"
                      >
                        <polyline points="3 6 5 6 21 6" />
                        <path
                          d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"
                        />
                      </svg>
                    </button>
                  </div>
                </div>

                <!-- Two column layout -->
                <div class="qdetail-grid">
                  <!-- Left column -->
                  <div class="qdetail-left">
                    <!-- Question Statement -->
                    <div class="field-block">
                      <div class="field-block__header">
                        <label>QUESTION STATEMENT</label>
                        <span class="char-count" id="qd-charcount"
                          >0 chars</span
                        >
                      </div>
                      <textarea
                        class="field-textarea"
                        id="qd-question"
                        rows="5"
                        placeholder="Question text..."
                      ></textarea>
                      <div class="q-media-box" id="qd-media-question"></div>
                    </div>

                    <!-- Question Type + Answer row -->
                    <div class="field-row">
                      <div class="field-block field-block--half">
                        <label>QUESTION TYPE</label>
                        <select class="field-select" id="qd-type">
                          <option value="MCQ">MCQ</option>
                          <option value="HOTSPOT">HOTSPOT</option>
                          <option value="DRAG_DROP">DRAG & DROP</option>
                          <option value="CASE_STUDY">CASE STUDY</option>
                          <option value="MATCHING">MATCHING</option>
                          <option value="TEXT_ONLY">TEXT ONLY</option>
                        </select>
                      </div>
                      <div class="field-block field-block--half">
                        <label>CORRECT ANSWER (PDF)</label>
                        <input
                          type="text"
                          class="field-input"
                          id="qd-answer"
                          placeholder="e.g. B or A, C"
                        />
                        <div class="q-media-box" id="qd-media-answer"></div>
                      </div>
                    </div>

                    <!-- Explanation -->
                    <div class="field-block">
                      <label>EXPLANATION / KEY</label>
                      <textarea
                        class="field-textarea field-textarea--explanation"
                        id="qd-explanation"
                        rows="4"
                        placeholder="Explanation text..."
                      ></textarea>
                      <div class="q-media-box" id="qd-media-explanation"></div>
                    </div>
                  </div>

                  <!-- Right column: Options + Raw Output -->
                  <div class="qdetail-right">
                    <!-- Options -->
                    <div class="field-block">
                      <div class="field-block__header">
                        <label>OPTION CONFIG</label>
                        <button
                          class="btn btn--ghost btn--xs"
                          id="btn-add-option"
                        >
                          + ADD OPTION
                        </button>
                      </div>
                      <div class="options-list" id="qd-options">
                        <!-- Populated dynamically -->
                      </div>
                      <div class="q-media-box" id="qd-media-options"></div>
                    </div>

                    <!-- Raw Parser Output -->
                    <div class="field-block">
                      <label>PARSER RAW OUTPUT</label>
                      <div class="raw-output" id="qd-raw"></div>
                    </div>

                    <!-- Anomalies -->
                    <div
                      class="field-block anomalies-block"
                      id="qd-anomalies-block"
                      style="display: none"
                    >
                      <label>⚠ ANOMALIES DETECTED</label>
                      <div class="anomaly-list" id="qd-anomalies"></div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </section>
      </main>
    </div>

    <!-- ═══ Upload Modal ═════════════════════════════════════════ -->
    <div class="modal-overlay" id="upload-modal" style="display: none">
      <div class="modal">
        <div class="modal__header">
          <h3>Upload PDF for Parsing</h3>
          <button class="modal__close" id="modal-close">&times;</button>
        </div>
        <div class="modal__body">
          <div class="drop-zone" id="drop-zone">
            <svg
              width="40"
              height="40"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="1.5"
            >
              <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4" />
              <polyline points="17 8 12 3 7 8" />
              <line x1="12" y1="3" x2="12" y2="15" />
            </svg>
            <p>
              Drop PDF here or
              <label for="file-picker" class="drop-zone__link">browse</label>
            </p>
            <span class="drop-zone__hint">Maximum file size: 500 MB</span>
            <input
              type="file"
              id="file-picker"
              accept=".pdf"
              style="display: none"
            />
          </div>
          <div
            class="upload-fileinfo"
            id="upload-fileinfo"
            style="display: none"
          ></div>
          <div class="modal-fields" id="modal-fields" style="display: none">
            <div class="modal-field">
              <label>Exam Name</label>
              <input
                type="text"
                id="up-exam-name"
                placeholder="e.g. AWS SAA-C03"
              />
            </div>
            <div class="modal-field">
              <label>Provider</label>
              <input
                type="text"
                id="up-provider"
                placeholder="e.g. AWS, Microsoft"
              />
            </div>
            <div class="modal-fields-row">
              <div class="modal-field">
                <label>Version</label>
                <input type="text" id="up-version" placeholder="e.g. 2024" />
              </div>
              <div class="modal-field">
                <label>Log Level</label>
                <select id="up-loglevel">
                  <option value="INFO">INFO</option>
                  <option value="DEBUG">DEBUG</option>
                  <option value="WARNING">WARNING</option>
                </select>
              </div>
            </div>
          </div>
        </div>
        <div class="modal__footer">
          <button class="btn btn--ghost" id="btn-upload-cancel">Cancel</button>
          <button class="btn btn--accent" id="btn-upload-start" disabled>
            <svg
              width="14"
              height="14"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2.5"
            >
              <polyline points="17 8 12 3 7 8" />
              <line x1="12" y1="3" x2="12" y2="15" />
            </svg>
            Start Parsing
          </button>
        </div>
      </div>
    </div>

    <!-- ═══ Logs Modal ═══════════════════════════════════════════ -->
    <div class="modal-overlay" id="logs-modal" style="display: none">
      <div class="modal modal--wide">
        <div class="modal__header">
          <h3>Parse Logs</h3>
          <button class="modal__close" id="logs-close">&times;</button>
        </div>
        <div class="modal__body">
          <div class="logs-viewer" id="logs-viewer">
            <pre id="logs-content">No logs available for this parse run.</pre>
          </div>
        </div>
      </div>
    </div>

    <!-- ═══ Lightbox Modal ════════════════════════════════════════ -->
    <div
      class="modal-overlay lightbox"
      id="lightbox-modal"
      style="display: none"
    >
      <div class="lightbox__container">
        <button class="lightbox__close" id="lightbox-close">&times;</button>
        <img src="" id="lightbox-img" alt="Preview" />
        <div class="lightbox__caption" id="lightbox-caption"></div>
      </div>
    </div>

    <!-- ═══ Toast Container ══════════════════════════════════════ -->
    <div class="toast-rack" id="toast-rack"></div>

    <script src="/static/app.js?v={{ cache_bust }}"></script>
  </body>
</html>
